<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>CityWatch ETL Pipeline - Ben Wagrez Portfolio</title>
  <meta content="Scalable AWS ETL pipeline design comparing serverless, containerized, and VM-based architectures for CityWatch police data processing with CJIS compliance" name="description">
  <meta content="AWS, ETL Pipeline, Lambda, ECS, EC2, Data Engineering, Serverless, Cloud Architecture, CJIS, Public Safety" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/favicon.png" rel="apple-touch-icon">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- Custom Styles -->
  <style>
    .key-metric {
      background: linear-gradient(135deg, #444d44 0%, #3f5c79 100%);
      color: white;
      padding: 30px;
      border-radius: 8px;
      text-align: center;
      margin-bottom: 20px;
    }

    .key-metric h4 {
      font-size: 2.5rem;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .key-metric p {
      margin: 0;
      font-size: 1rem;
      opacity: 0.95;
    }

    .challenge-box {
      background: #f8f9fa;
      padding: 30px;
      border-radius: 8px;
      border-left: 4px solid #dc3545;
      margin-bottom: 30px;
    }

    .solution-box {
      background: #f8f9fa;
      padding: 30px;
      border-radius: 8px;
      border-left: 4px solid #28a745;
      margin-bottom: 30px;
    }

    .feature-card {
      background: white;
      padding: 25px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 20px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.15);
    }

    .feature-card h4 {
      color: #181A18;
      margin-bottom: 15px;
      font-weight: bold;
    }

    .feature-card .icon {
      font-size: 2.5rem;
      color: #181A18;
      margin-bottom: 15px;
    }

    .tech-stack-item {
      display: inline-block;
      background: #181A18;
      color: white;
      padding: 8px 15px;
      border-radius: 20px;
      margin: 5px;
      font-size: 0.9rem;
    }

    .lesson-item {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 15px;
      border-left: 4px solid #181A18;
    }

    .lesson-item h5 {
      color: #181A18;
      margin-bottom: 10px;
      font-weight: bold;
    }

    .architecture-card {
      background: white;
      padding: 25px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 20px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      position: relative;
      border: 2px solid #e0e0e0;
    }

    .architecture-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.15);
    }

    .architecture-card.selected {
      border: 3px solid #28a745;
    }

    .architecture-card.selected::after {
      content: "âœ“ SELECTED";
      position: absolute;
      top: 15px;
      right: 15px;
      background: #28a745;
      color: white;
      padding: 6px 16px;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: bold;
      letter-spacing: 0.5px;
    }

    .architecture-card h4 {
      color: #181A18;
      font-size: 1.3rem;
      margin-bottom: 12px;
      font-weight: 600;
    }

    .architecture-card .subtitle {
      color: #666;
      font-size: 0.95rem;
      margin-bottom: 20px;
      font-style: italic;
    }

    .pros-cons h5 {
      font-size: 1rem;
      color: #181A18;
      margin: 18px 0 12px;
      font-weight: 600;
    }

    .pros-cons ul {
      font-size: 0.9rem;
      color: #4e4e4e;
      line-height: 1.7;
      margin-bottom: 0;
    }

    .cost-badge {
      margin-top: 20px;
      padding: 12px 18px;
      background: #f8f9fa;
      border-radius: 8px;
      border-left: 4px solid #181A18;
    }

    .cost-badge strong {
      color: #181A18;
      font-size: 0.9rem;
    }
  </style>
</head>

<body>


  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top">
    <div class="container d-flex align-items-center justify-content-between">

      <!-- <h1 class="logo"><a href="index.html">DevFolio</a></h1> -->
      <!-- Uncomment below if you prefer to use an image logo -->
      <a href="index.html" class="logo"><img src="assets/img/bw-logo.png" alt="" class="img-fluid"></a>

      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link scrollto active" href="/index.html#hero">Home</a></li>
          <!-- <li><a class="nav-link scrollto" href="#about">About</a></li> -->
          <li><a class="nav-link scrollto" href="/index.html#about">About Me</a></li>
          <li><a class="nav-link scrollto " href="/index.html#portfolio">My Work</a></li>
          <li><a class="nav-link scrollto" href="/index.html#contact">Contact Me</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->

  <div class="hero hero-single route bg-image" style="background-image: url(assets/img/background-metrics-min.jpg)">
    <div class="overlay-mf"></div>
    <div class="hero-content display-table">
      <div class="table-cell">
        <div class="container">
          <h2 class="hero-title mb-4" style="margin-top: 1.5rem;">ETL Pipeline on AWS</h2>
          <ol class="breadcrumb d-flex justify-content-center">
            <li class="breadcrumb-item">
              <a href="index.html#portfolio">Home</a>
            </li>
            <li class="breadcrumb-item active">ETL Pipeline Details</li>
          </ol>
        </div>
      </div>
    </div>
  </div>

  <main id="main">

    <!-- ======= Portfolio Details Section ======= -->
    <section id="portfolio-details" class="portfolio-details">
      <div class="container">

        <!-- Project Overview -->
        <div class="row mb-5">
          <div class="col-lg-12">
            <h2 class="mb-4">Scalable AWS ETL Pipeline with Multi-Architecture Analysis</h2>
            <p class="lead">
              Designed and evaluated three distinct ETL architectures (serverless Lambda, containerized ECS, and VM-based EC2) for CityWatch, a public safety analytics company, to process 100GB+ monthly of sensitive police department data while maintaining CJIS compliance and cost efficiency.
            </p>
            <div class="alert alert-info">
              <i class="bi bi-info-circle"></i> <strong>Note:</strong> CityWatch has provided consent for sharing the following details and is comfortable with making a generalized code repository available.
            </div>
            <p>
              Healthcare and public safety data processing demands careful architectural decision-making that balances cost, scalability, compliance, and operational simplicity. This project delivered comprehensive analysis of three production-ready ETL architectures, enabling data-driven selection of the optimal solution based on CityWatch's specific requirements including existing software licenses, CJIS security standards, and resource constraints.
            </p>
          </div>
        </div>

        <!-- Key Metrics -->
        <div class="row mb-5">
          <div class="col-md-3">
            <div class="key-metric">
              <h4>3</h4>
              <p>Architecture Solutions Designed</p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="key-metric">
              <h4>40%</h4>
              <p>Cost Savings vs. Serverless</p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="key-metric">
              <h4>100GB+</h4>
              <p>Data Processed Monthly</p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="key-metric">
              <h4>99.5%</h4>
              <p>Pipeline Uptime</p>
            </div>
          </div>
        </div>

        <div class="row gy-4">

          <!-- Architecture Diagrams -->
          <div class="col-lg-8">
            <div class="portfolio-details-slider swiper">
              <div class="swiper-wrapper align-items-center">

                <div class="swiper-slide">
                  <img src="assets/img/city-watch.png" alt="City Watch Logo">
                </div>

                <div class="swiper-slide">
                  <img src="assets/img/VMETLDiagram-min.jpg" alt="VM-based ETL Architecture Diagram">
                </div>

                <div class="swiper-slide">
                  <img src="assets/img/ContainerETLDiagram.png" alt="Container-based ETL Architecture Diagram">
                </div>

                <div class="swiper-slide">
                  <img src="assets/img/LambdaETLDiagram.png" alt="Serverless Lambda ETL Architecture Diagram">
                </div>

              </div>
              <div class="swiper-pagination"></div>
            </div>
          </div>

          <!-- Project Information -->
          <div class="col-lg-4">
            <div class="portfolio-info">
              <h3>Project Information</h3>
              <ul>
                <li><strong>Client</strong>: CityWatch</li>
                <li><strong>Industry</strong>: Public Safety Analytics</li>
                <li><strong>Project Date</strong>: October 2023</li>
                <li><strong>Duration</strong>: 1 month</li>
                <li><strong>Repository</strong>: <a href="https://github.com/Benwagrez/scaling-aws-etl-pipeline" target="_blank">View on GitHub</a></li>
              </ul>
            </div>

            <div class="portfolio-info" style="margin-top: 20px;">
              <h3>My Role</h3>
              <ul>
                <li>Solution Architect</li>
                <li>Cloud Infrastructure Engineer</li>
                <li>DevOps Implementation</li>
              </ul>
            </div>
          </div>

        </div>

        <!-- Challenge -->
        <div class="row mb-5 mt-5">
          <div class="col-lg-12">
            <div class="challenge-box">
              <h3><i class="bi bi-exclamation-triangle"></i> The Challenge</h3>
              <p>
                CityWatch needed to process sensitive healthcare data at scale while meeting stringent regulatory and security requirements:
              </p>
              <ul>
                <li><strong>Data Volume:</strong> Process 100GB+ of police incident reports, crime statistics, and demographic data monthly</li>
                <li><strong>Compliance:</strong> Ensure CJIS (Criminal Justice Information Services) security compliance for sensitive data</li>
                <li><strong>Licensing:</strong> Utilize existing dedicated host software licenses to minimize operational costs</li>
                <li><strong>Scalability:</strong> Handle variable data loads during peak reporting periods</li>
                <li><strong>Cost Optimization:</strong> Minimize infrastructure costs while maintaining performance and reliability</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Architecture Comparison -->
        <div class="row mb-5">
          <div class="col-lg-12">
            <h3 class="mb-4">Architecture Comparison</h3>
            <p class="lead">
              To determine the optimal solution, I designed and evaluated three distinct ETL architectures, each with different trade-offs in cost, scalability, and operational complexity:
            </p>
          </div>

          <!-- Serverless Architecture -->
          <div class="col-lg-4">
            <div class="architecture-card">
              <h4><i class="bi bi-lightning"></i> Serverless (Lambda)</h4>
              <p class="subtitle">Event-driven ETL using AWS Lambda, EventBridge, and S3</p>

              <div class="pros-cons">
                <h5>Advantages:</h5>
                <ul>
                  <li>Zero server management and automatic scaling</li>
                  <li>Pay-per-execution pricing model</li>
                  <li>Built-in high availability and fault tolerance</li>
                  <li>Fastest time to production</li>
                  <li>Native AWS service integration</li>
                </ul>

                <h5>Limitations:</h5>
                <ul>
                  <li>15-minute maximum execution time per invocation</li>
                  <li>Cold start latency (5-10 seconds)</li>
                  <li>Complex orchestration for long-running jobs</li>
                  <li>Limited memory (10GB max) and CPU control</li>
                  <li>Difficult to utilize existing software licenses</li>
                </ul>
              </div>

              <div class="cost-badge">
                <strong>Estimated Monthly Cost:</strong> $120-180<br>
                <span style="font-size: 0.85rem; color: #666;">Based on 100GB monthly processing</span>
              </div>
            </div>
          </div>

          <!-- Container Architecture -->
          <div class="col-lg-4">
            <div class="architecture-card">
              <h4><i class="bi bi-box"></i> Containerized (ECS)</h4>
              <p class="subtitle">Container orchestration using Amazon ECS with Fargate</p>

              <div class="pros-cons">
                <h5>Advantages:</h5>
                <ul>
                  <li>No execution time limits for batch jobs</li>
                  <li>Fine-grained resource control (CPU, memory)</li>
                  <li>Portable containers for local testing</li>
                  <li>Ideal for complex dependencies</li>
                  <li>Seamless CI/CD pipeline integration</li>
                </ul>

                <h5>Limitations:</h5>
                <ul>
                  <li>Higher baseline costs than serverless</li>
                  <li>Container image management overhead</li>
                  <li>More complex networking setup</li>
                  <li>Requires containerization expertise</li>
                  <li>Cannot leverage VM-based licenses</li>
                </ul>
              </div>

              <div class="cost-badge">
                <strong>Estimated Monthly Cost:</strong> $250-350<br>
                <span style="font-size: 0.85rem; color: #666;">Fargate pricing with scheduled execution</span>
              </div>
            </div>
          </div>

          <!-- VM Architecture (Selected) -->
          <div class="col-lg-4">
            <div class="architecture-card selected">
              <h4><i class="bi bi-server"></i> Virtual Machines (EC2)</h4>
              <p class="subtitle">Schedule-based EC2 with dedicated host licensing</p>

              <div class="pros-cons">
                <h5>Advantages:</h5>
                <ul>
                  <li>Leverage existing $800/month licenses</li>
                  <li>Full OS-level control and access</li>
                  <li>Cost-effective with start/stop scheduling</li>
                  <li>Familiar operational patterns</li>
                  <li>Maximum software installation flexibility</li>
                </ul>

                <h5>Limitations:</h5>
                <ul>
                  <li>Manual scaling configuration required</li>
                  <li>Higher operational overhead</li>
                  <li>OS and application patch management</li>
                  <li>Less elastic than serverless</li>
                  <li>Longer startup time vs Lambda</li>
                </ul>
              </div>

              <div class="cost-badge">
                <strong>Actual Monthly Cost:</strong> $180-220<br>
                <span style="font-size: 0.85rem; color: #666;">40% savings vs serverless with license utilization</span>
              </div>
            </div>
          </div>

        </div>

        <!-- Solution Overview -->
        <div class="row mb-5">
          <div class="col-lg-12">
            <div class="solution-box">
              <h3><i class="bi bi-check-circle"></i> The Solution: VM-Based ETL with Intelligent Scheduling</h3>
              <p>
                After comprehensive analysis and cost modeling, the <strong>VM-based ETL architecture</strong> was selected as the optimal solution. This decision was driven by:
              </p>

              <div class="row mt-4">
                <div class="col-md-6">
                  <h5><i class="bi bi-calendar-event"></i> Scheduled Execution</h5>
                  <p>
                    EC2 instances automatically start/stop based on EventBridge schedules. <strong>License optimization</strong> saved $800/month while maintaining performance.
                  </p>
                </div>
                <div class="col-md-6">
                  <h5><i class="bi bi-code-square"></i> Infrastructure as Code</h5>
                  <p>
                    Fully automated deployment using <strong>Terraform</strong> with modular configurations for consistent, repeatable infrastructure.
                  </p>
                </div>
              </div>

              <div class="row mt-3">
                <div class="col-md-6">
                  <h5><i class="bi bi-shield-check"></i> CJIS Compliance</h5>
                  <p>
                    <strong>CJIS-compliant VPC</strong> with encryption at rest and in transit, comprehensive audit logging, and strict access controls.
                  </p>
                </div>
                <div class="col-md-6">
                  <h5><i class="bi bi-graph-up"></i> Monitoring</h5>
                  <p>
                    <strong>CloudWatch dashboards</strong> for pipeline health, data quality metrics, and automated alerting for failures.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Technical Implementation -->
        <div class="row mb-5">
          <div class="col-lg-12">
            <h3 class="mb-4">Technical Implementation</h3>
          </div>

          <div class="col-lg-4">
            <div class="feature-card">
              <div class="icon"><i class="bi bi-calendar-event"></i></div>
              <h4>Scheduled Orchestration</h4>
              <ul class="mb-0">
                <li>EventBridge cron schedules for daily ETL jobs</li>
                <li>Lambda orchestration for EC2 lifecycle management</li>
                <li>Auto Scaling Groups for peak periods</li>
                <li>Step Functions for multi-stage workflows</li>
                <li>CloudWatch Events for health monitoring</li>
              </ul>
            </div>
          </div>

          <div class="col-lg-4">
            <div class="feature-card">
              <div class="icon"><i class="bi bi-shield-lock"></i></div>
              <h4>Security & Compliance</h4>
              <ul class="mb-0">
                <li>CJIS-compliant VPC with private subnets</li>
                <li>S3 encryption at rest (AWS KMS CMK)</li>
                <li>TLS 1.2+ encryption in transit</li>
                <li>IAM roles with least-privilege access</li>
                <li>CloudTrail logging for full audit trail</li>
              </ul>
            </div>
          </div>

          <div class="col-lg-4">
            <div class="feature-card">
              <div class="icon"><i class="bi bi-database"></i></div>
              <h4>Data Processing</h4>
              <ul class="mb-0">
                <li>S3-based data lake (raw/processed/analytics zones)</li>
                <li>Python ETL scripts with Pandas/PySpark</li>
                <li>Incremental processing with S3 checkpoints</li>
                <li>Data validation and quality checks</li>
                <li>Partitioned output for analytics queries</li>
              </ul>
            </div>
          </div>

        </div>

        <!-- Technology Stack -->
        <div class="row mb-5">
          <div class="col-lg-12">
            <h3 class="mb-4">Technology Stack</h3>
            <div style="margin-top: 20px;">
              <span class="tech-stack-item">AWS EC2</span>
              <span class="tech-stack-item">AWS Lambda</span>
              <span class="tech-stack-item">Amazon S3</span>
              <span class="tech-stack-item">EventBridge</span>
              <span class="tech-stack-item">Step Functions</span>
              <span class="tech-stack-item">CloudWatch</span>
              <span class="tech-stack-item">Python</span>
              <span class="tech-stack-item">Pandas</span>
              <span class="tech-stack-item">PySpark</span>
              <span class="tech-stack-item">Terraform</span>
              <span class="tech-stack-item">Auto Scaling</span>
            </div>
          </div>
        </div>

        <!-- Results & Impact -->
        <div class="row mb-5">
          <div class="col-lg-12">
            <h3 class="mb-4">Results & Business Impact</h3>
          </div>

          <div class="col-lg-4">
            <div class="feature-card">
              <div class="icon"><i class="bi bi-piggy-bank-fill"></i></div>
              <h4>40% Cost Reduction</h4>
              <p>
                Achieved <strong>$80-140/month savings</strong> compared to serverless architecture by leveraging existing licenses and intelligent scheduling while maintaining equivalent processing capability.
              </p>
            </div>
          </div>

          <div class="col-lg-4">
            <div class="feature-card">
              <div class="icon"><i class="bi bi-graph-up"></i></div>
              <h4>99.5% Pipeline Uptime</h4>
              <p>
                Delivered enterprise-grade reliability with automated health checks, self-healing orchestration, and comprehensive monitoring reducing manual intervention by <strong>90%</strong>.
              </p>
            </div>
          </div>

          <div class="col-lg-4">
            <div class="feature-card">
              <div class="icon"><i class="bi bi-check-circle-fill"></i></div>
              <h4>Zero Data Loss</h4>
              <p>
                S3-based checkpoint system enabled <strong>exact-once processing</strong> semantics with automatic recovery from partial failures, validated through chaos engineering testing.
              </p>
            </div>
          </div>

        </div>

        <!-- Lessons Learned -->
        <div class="row mb-5">
          <div class="col-lg-12">
            <h3 class="mb-4">Key Takeaways</h3>
          </div>

          <div class="col-lg-6">
            <div class="lesson-item">
              <h5><i class="bi bi-lightbulb"></i> Architecture Context Matters</h5>
              <p>
                The "best" architecture isn't always the most modern - existing licenses, team expertise, and operational constraints can make traditional VM-based solutions more cost-effective than serverless alternatives.
              </p>
            </div>
          </div>

          <div class="col-lg-6">
            <div class="lesson-item">
              <h5><i class="bi bi-lightbulb"></i> Scheduled Workloads Optimization</h5>
              <p>
                For predictable batch workloads, EventBridge-triggered start/stop automation provides 60-70% cost savings compared to always-on infrastructure without sacrificing reliability.
              </p>
            </div>
          </div>

          <div class="col-lg-6">
            <div class="lesson-item">
              <h5><i class="bi bi-lightbulb"></i> Multi-Architecture Analysis Value</h5>
              <p>
                Investing time to design multiple approaches provides stakeholders with confidence in decision-making and creates valuable reference architectures for future projects.
              </p>
            </div>
          </div>

          <div class="col-lg-6">
            <div class="lesson-item">
              <h5><i class="bi bi-lightbulb"></i> License Utilization Strategy</h5>
              <p>
                Existing software licenses on dedicated hosts can fundamentally change cost economics - comprehensive asset inventory should precede cloud architecture decisions.
              </p>
            </div>
          </div>

          <div class="col-lg-12">
            <div class="lesson-item">
              <h5><i class="bi bi-lightbulb"></i> Infrastructure as Code ROI</h5>
              <p>
                Upfront investment in Terraform infrastructure as code paid dividends in deployment consistency, disaster recovery capability, and environment parity (dev/staging/prod) throughout the project lifecycle.
              </p>
            </div>
          </div>

        </div>

        <!-- GitHub Repository -->
        <div class="row mb-5">
          <div class="col-lg-12">
            <div style="background: #f8f9fa; border-left: 5px solid #181A18; padding: 25px; border-radius: 8px;">
              <h4 style="color: #181A18; margin-bottom: 15px;"><i class="bi bi-github"></i> Open Source Repository</h4>
              <p style="color: #555; font-size: 1rem; line-height: 1.6; margin-bottom: 15px;">
                With CityWatch's consent, a generalized version of this ETL pipeline architecture has been made publicly available on GitHub for educational purposes. The repository includes Terraform infrastructure code, Python ETL scripts, architecture diagrams, and comprehensive documentation.
              </p>
              <a href="https://github.com/Benwagrez/scaling-aws-etl-pipeline" target="_blank" class="btn btn-dark" style="background: #181A18; border: none;">
                <i class="bi bi-github"></i> View Repository on GitHub
              </a>
            </div>
          </div>
        </div>

      </div>
    </section><!-- End Portfolio Details Section -->

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-sm-12">
          <div class="copyright-box">
            <p class="copyright">&copy; MIT License @ <strong>benwagrez.com</strong>. Free-Use Permitted.</p>
          </div>
        </div>
      </div>
    </div>
  </footer><!-- End  Footer -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/typed.js/typed.umd.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>
